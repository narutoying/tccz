<?xml version="1.0" encoding="GBK"?>
<table sqlname="person">
    
    <operation name="getById" multiplicity="one">
        <sql>
            <![CDATA[
			select * from person where id = ?
		]]>
        </sql>
    </operation>
    
	<operation name="fuzzyQueryByName" multiplicity="many" parameterClass="map">
		<extraparams>
			<param name="fuzzyName" javatype="java.lang.String"/>
		 </extraparams>
		<sql><![CDATA[
			select * from person
		]]></sql>
		<sqlmap><![CDATA[
          select * from person
		  <dynamic prepend="WHERE">
				<isNotEmpty prepend="and" property="fuzzyName">
					name like concat("%", #fuzzyName#, "%")
				</isNotEmpty>
			</dynamic>
			order by id DESC
		 ]]></sqlmap>
	</operation>
	
	<operation name="fuzzyPageQueryByName" multiplicity="many" parameterClass="map" paging="true">
		<extraparams>
			<param name="personName" javatype="java.lang.String"/>
		 </extraparams>
		<sql><![CDATA[
			select * from person
		]]></sql>
		<sqlmap><![CDATA[
          select * from person
		  <dynamic prepend="WHERE">
				<isNotEmpty prepend="and" property="personName">
					name like concat("%", #personName#, "%")
				</isNotEmpty>
			</dynamic>
			order by id DESC limit #pageNum#, #pageSize#
		 ]]></sqlmap>
	</operation>
	
</table>
